(function(e){var t=function(e,t,n){var r=t.sync;t.sync=function(e,t,o){if(o&&o.success){var s=o.success;o.success=function(e,r,c){if(!n.isUndefined(c)&&n.isFunction(c.getResponseHeader)&&/text\/html/.exec(c.getResponseHeader("Content-Type")))e=t.parseHTML(e,o);s.apply(t,arguments)}}return r.apply(t,arguments)};n.extend(t.Model.prototype,{htmlAttribute:"HTML",parseHTML:function(e,r){r=r||{};var o=r.storeHTMLas||"string";var s=r.keepScripts||false;var c=r.htmlContext||document;var s=r.keepScripts||false;var u=e instanceof HTMLElement||e instanceof Text?[e]:t.$.parseHTML(e,c,s);var a=n.reduce(u,function(e,t){return n.extend(e,$(t).data())},{});a[this.htmlAttribute]=function(){switch(o){case"DOM":case"dom":return u;case"jQuery":case"$":return n.reduce(u,function(e,t){return e.add(t)},t.$());default:return n.reduce(u,function(e,t){return e+=t.outerHTML||t.textContent||""},"")}}();return a}});n.extend(t.Collection.prototype,{parseHTML:function(e,r){r=r||{};var o=r.htmlContext||document;var s=r.keepScripts||false;var c=t.$.parseHTML(e,o,s);return n.map(c,function(e){return t.Model.prototype.parseHTML(e,r)})}});return e=t};if(typeof require==="function"&&typeof exports==="object"&&typeof module==="object"){module.exports=t(exports,require("backbone"),require("underscore"))}else if(typeof define==="function"&&define["amd"]){define(["exports","backbone","underscore"],t)}else{t(e.Backbone,Backbone,_)}})(this);
//# sourceMappingURL=backbone.html-min.map